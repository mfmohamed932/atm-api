spring.application.name=atm-machine

# File-based H2 database for persistent data (stored in ./data/atmdb.mv.db)
# DB_CLOSE_ON_EXIT=TRUE: Close database when JVM exits
# AUTO_SERVER=TRUE: Allow multiple connections to same database file
spring.datasource.url=jdbc:h2:file:./data/atmdb;DB_CLOSE_ON_EXIT=TRUE;AUTO_SERVER=TRUE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Database Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Changed from 'create-drop' to 'update' to persist data across restarts
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
# spring.jpa.properties.hibernate.format_sql=true  # Commented out - not needed when show-sql is false

# Disable data.sql initialization - using DataInitializer.java instead
spring.sql.init.mode=never

# OpenAPI/Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# Logging
logging.level.com.heb.atm=INFO

# Encryption Configuration (AES-256)
# CRITICAL: Must match frontend encryption key exactly (32 bytes for AES-256)
# In production, store in environment variable or secrets manager
encryption.secret.key=HEB_ATM_SECURE_KEY_2025_32BYTES!

